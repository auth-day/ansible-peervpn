## Что это за репозиторий
Репозиторий содержит набор скриптов, для установки минимального окружения для создания http репозитория deb пакетов для ubuntu.

## Принцип работы 
Клонируется peervpn репозиторий, собирается код, формируется deb пакет, который помещается в базовую директорию Apache. После этого сканируется директория с deb пакетами для создание файла с информацией о пакетах. Так же добавляется cron задача на обновления репозитория.

## Как запустить
Клонируем репозиторий. Рядом с директорией роли создаем минимальный файл: 
```
vi peervpn.yml
- hosts: all
  become: yes
  roles:
    - ansible-peervpn
```

Создаем файл `hosts`:
```
vi hosts
[all]
localhost (hostname где поднят репозиторий)
```

Если `ansible` не установлен, надо установить:
```
apt install ansible -y
```

Обязательных изменений в переменных производить не надо, все будет работать по умолчанию.
Запускаем плейбук:
```
ansible-playbook peervpn.yml -i hosts
```

## Подключение репозитория
Для подключения полученного репозитория нужно выполнить команду
```
echo 'deb [trusted=yes] http://localhost/debs/' > /etc/apt/sources.list.d/myubunturepo.list
```
Вместо `localhost` если нужно подставить имя актуального сервера.

Обновляем бд доступных пакетов
```
apt update
```

Устанавливаем пакет `peervpn`
```
apt install peervpn -y
```
